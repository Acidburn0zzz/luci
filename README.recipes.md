<!--- AUTOGENERATED BY `./recipes.py test train` -->
# Package documentation for [recipe\_engine](https://github.com/luci/recipes-py)
## Table of Contents

**[Recipe Modules](#recipe-modules)**
  * [context](#recipe_modules--context) &mdash; The context module provides APIs for manipulating a few pieces of 'ambient' data that affect how steps are run:   cwd - The current working directory.
  * [file](#recipe_modules--file)
  * [generator_script](#recipe_modules--generator_script)
  * [json](#recipe_modules--json) &mdash; Methods for producing and consuming JSON.
  * [path](#recipe_modules--path)
  * [platform](#recipe_modules--platform)
  * [properties](#recipe_modules--properties)
  * [python](#recipe_modules--python)
  * [raw_io](#recipe_modules--raw_io)
  * [shutil](#recipe_modules--shutil)
  * [step](#recipe_modules--step)
  * [tempfile](#recipe_modules--tempfile)
  * [time](#recipe_modules--time)
  * [url](#recipe_modules--url)
  * [uuid](#recipe_modules--uuid)

**[Recipes](#recipes)**
  * [context:examples/full](#recipes--contextexamplesfull)
  * [context:tests/cwd](#recipes--contexttestscwd)
  * [context:tests/env](#recipes--contexttestsenv)
  * [context:tests/increment_nest_level](#recipes--contexttestsincrement_nest_level)
  * [context:tests/infra_step](#recipes--contexttestsinfra_step)
  * [engine_tests/bad_subprocess](#recipes--engine_testsbad_subprocess) &mdash; Tests that daemons that hang on to STDOUT can't cause the engine to hang.
  * [engine_tests/depend_on/bad_properties](#recipes--engine_testsdepend_onbad_properties)
  * [engine_tests/depend_on/bottom](#recipes--engine_testsdepend_onbottom)
  * [engine_tests/depend_on/dont_need_properties](#recipes--engine_testsdepend_ondont_need_properties)
  * [engine_tests/depend_on/dont_need_properties_helper](#recipes--engine_testsdepend_ondont_need_properties_helper)
  * [engine_tests/depend_on/need_return_schema](#recipes--engine_testsdepend_onneed_return_schema)
  * [engine_tests/depend_on/need_return_schema_helper](#recipes--engine_testsdepend_onneed_return_schema_helper)
  * [engine_tests/depend_on/no_return](#recipes--engine_testsdepend_onno_return)
  * [engine_tests/depend_on/top](#recipes--engine_testsdepend_ontop)
  * [engine_tests/expect_exception](#recipes--engine_testsexpect_exception) &mdash; Tests that step_data can accept multiple specs at once.
  * [engine_tests/functools_partial](#recipes--engine_testsfunctools_partial) &mdash; Engine shouldn't explode when step_test_data gets functools.
  * [engine_tests/missing_start_dir](#recipes--engine_testsmissing_start_dir) &mdash; Tests that deleting the current working directory doesn't immediately fail.
  * [engine_tests/multi_test_data](#recipes--engine_testsmulti_test_data) &mdash; Tests that step_data can accept multiple specs at once.
  * [engine_tests/nonexistent_command](#recipes--engine_testsnonexistent_command)
  * [engine_tests/recipe_paths](#recipes--engine_testsrecipe_paths) &mdash; Tests that recipes have access to names, resources and their package.
  * [engine_tests/sort_properties](#recipes--engine_testssort_properties) &mdash; Tests that step presentation properties can be ordered.
  * [engine_tests/step_stack_exhaustion](#recipes--engine_testsstep_stack_exhaustion) &mdash; Tests that placeholders can't wreck the world by exhausting the step stack.
  * [engine_tests/undeclared_method](#recipes--engine_testsundeclared_method)
  * [engine_tests/unicode](#recipes--engine_testsunicode)
  * [engine_tests/whitelist_steps](#recipes--engine_testswhitelist_steps) &mdash; Tests that step_data can accept multiple specs at once.
  * [file:examples/copy](#recipes--fileexamplescopy)
  * [file:examples/copytree](#recipes--fileexamplescopytree)
  * [file:examples/error](#recipes--fileexampleserror)
  * [generator_script:examples/full](#recipes--generator_scriptexamplesfull)
  * [json:examples/full](#recipes--jsonexamplesfull)
  * [path:examples/full](#recipes--pathexamplesfull)
  * [platform:examples/full](#recipes--platformexamplesfull)
  * [properties:examples/full](#recipes--propertiesexamplesfull)
  * [python:examples/full](#recipes--pythonexamplesfull) &mdash; Launches the repo bundler.
  * [raw_io:examples/full](#recipes--raw_ioexamplesfull)
  * [shutil:examples/full](#recipes--shutilexamplesfull)
  * [step:examples/full](#recipes--stepexamplesfull)
  * [step:tests/active_result](#recipes--steptestsactive_result)
  * [step:tests/defer](#recipes--steptestsdefer)
  * [step:tests/inject_paths](#recipes--steptestsinject_paths)
  * [step:tests/nested](#recipes--steptestsnested)
  * [step:tests/stdio](#recipes--steptestsstdio)
  * [step:tests/subannotations](#recipes--steptestssubannotations)
  * [step:tests/timeout](#recipes--stepteststimeout)
  * [step:tests/trigger](#recipes--stepteststrigger)
  * [tempfile:examples/full](#recipes--tempfileexamplesfull)
  * [time:examples/full](#recipes--timeexamplesfull)
  * [url:examples/full](#recipes--urlexamplesfull)
  * [url:tests/join](#recipes--urltestsjoin)
  * [url:tests/validate_url](#recipes--urltestsvalidate_url)
  * [uuid:examples/full](#recipes--uuidexamplesfull)
## Recipe Modules

### *recipe_modules* / [context](/recipe_modules/context)

[DEPS](/recipe_modules/context/__init__.py#L5): [path](#recipe_modules--path)

The context module provides APIs for manipulating a few pieces of 'ambient'
data that affect how steps are run:
  cwd - The current working directory.
  env - The environment variables.
  infra_step - Whether or not failures should be treated as infrastructure
    failures vs. normal failures.
  name_prefix - A prefix for all step names.
  nest_level - An indicator for the UI of how deeply to nest steps.

The values here are all scoped using Python's `with` statement; there's no
mechanism to make an open-ended adjustment to these values (i.e. there's no way
to change the cwd permanently for a recipe, except by surrounding the entire
recipe with a with statement). This is done to avoid the surprises that
typically arise with things like os.environ or os.chdir in a normal python
program.

Example:
  with api.context(cwd=api.path['start_dir'].join('subdir')):
    # this step is run inside of the subdir directory.
    api.step("cat subdir/foo", ['cat', './foo'])

#### **class [ContextApi](/recipe_modules/context/api.py#L45)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&emsp; **@contextmanager**<br>&mdash; **def [\_\_call\_\_](/recipe_modules/context/api.py#L59)(self, cwd=None, env_prefixes=None, env=None, increment_nest_level=None, infra_steps=None, name_prefix=None):**

Allows adjustment of multiple context values in a single call.

Contextual data:
  * cwd (Path) - the current working directory to use for all steps.
    To 'reset' to the original cwd at the time recipes started, pass
    `api.path['start_dir']`.
  * env_prefixes (dict) - Environmental variable prefix augmentations. See
      below for more info.
  * env (dict) - Environmental variable overrides. See below for more info.
  * increment_nest_level (True) - increment the nest level by 1 in this
    context. Typically you won't directly interact with this, but should
    use api.step.nest instead.
  * infra_steps (bool) - if steps in this context should be considered
    infrastructure steps. On failure, these will raise InfraFailure
    exceptions instead of StepFailure exceptions.
  * name_prefix (str) - A string to prepend to the names of all steps in
    this context. These compose with '.' characters if multiple name prefix
    contexts occur. See below for more info.

Name prefixes:

Multiple invocations concatenate values with '.'.

Example:
  with api.context(name_prefix='hello'):
    # has name 'hello.something'
    api.step('something', ['echo', 'something'])

    with api.context(name_prefix='world'):
      # has name 'hello.world.other'
      api.step('other', ['echo', 'other'])

Environmental Variable Overrides:

Env is a mapping of environment variable name to the value you want that
environment variable to have. The value is one of:
  * None, indicating that the environment variable should be removed from
    the environment when the step runs.
  * A string value. Note that string values will be %-formatted with the
    current value of the environment at the time the step runs. This means
    that you can have a value like:
        "/path/to/my/stuff:%(PATH)s"
    Which, at the time the step executes, will inject the current value of
    $PATH.

"env_prefix" is a list of Path or strings that get prefixed to their
respective environment variables, delimited with the system's path
separator. This can be used to add entries to environment variables such
as "PATH" and "PYTHONPATH". If prefixes are specified and a value is also
defined in "env", it will be installed as the last path component if it is
not empty.

TODO(iannucci): combine nest_level and name_prefix

Look at the examples in "examples/" for examples of context module usage.

&mdash; **def [\_\_init\_\_](/recipe_modules/context/api.py#L48)(self, \*\*kwargs):**

&emsp; **@property**<br>&mdash; **def [cwd](/recipe_modules/context/api.py#L185)(self):**

Returns the current working directory that steps will run in.

Returns (Path|None) - The current working directory. A value of None is
  equivalent to api.path['start_dir'], though only occurs if no cwd has been
  set (e.g. in the outermost context of RunSteps).

&emsp; **@property**<br>&mdash; **def [env](/recipe_modules/context/api.py#L195)(self):**

Returns modifications to the environment.

By default this is empty; There's no facility to observe the program's
startup environment. If you want to pass data to the recipe, it should be
done with properties.

Returns (dict) - The env-key -> value mapping of current environment
  modifications.

&emsp; **@property**<br>&mdash; **def [env\_prefixes](/recipe_modules/context/api.py#L210)(self):**

Returns Path prefix modifications to the environment.

This will return a mapping of environment key to Path tuple for Path
prefixes registered with the environment.

Returns (dict) - The env-key -> value(Path) mapping of current environment
  prefix modifications.

&emsp; **@property**<br>&mdash; **def [infra\_step](/recipe_modules/context/api.py#L224)(self):**

Returns the current value of the infra_step setting.

Returns (bool) - True iff steps are currently considered infra steps.

&emsp; **@property**<br>&mdash; **def [name\_prefix](/recipe_modules/context/api.py#L232)(self):**

Gets the current step name prefix.

Returns (str) - The string prefix that every step will have prepended to it.

&emsp; **@property**<br>&mdash; **def [nest\_level](/recipe_modules/context/api.py#L240)(self):**

Returns the current 'nesting' level.

Note: This api is low-level, and you should always prefer to use
`api.step.nest`. This api is included for completeness and documentation
purposes.

Returns (int) - The current nesting level.
### *recipe_modules* / [file](/recipe_modules/file)

[DEPS](/recipe_modules/file/__init__.py#L5): [python](#recipe_modules--python), [path](#recipe_modules--path), [step](#recipe_modules--step), [raw_io](#recipe_modules--raw_io), [json](#recipe_modules--json)

#### **class [FileApi](/recipe_modules/file/api.py#L15)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

FileApi contains helper functions for reading and writing files.

&mdash; **def [copy](/recipe_modules/file/api.py#L46)(self, name, source, dest):**

Copies a file (including mode bits) from source to destination on the
local filesystem.

Behaves identically to shutil.copy.

Args:
  name (str) - The name of the step.
  source (Path) - The path to the file you want to copy.
  dest (Path) - The path to the destination file name. If this path exists
    and is a directory, the basename of `source` will be appended to derive
    a path to a destination file.

Raises file.Error

&mdash; **def [copytree](/recipe_modules/file/api.py#L66)(self, name, source, dest, symlinks=False):**

Recursively copies a directory tree.

Behaves identically to shutil.copytree.
`dest` must not exist.

Args:
  name (str) - The name of the step.
  source (Path) - The path of the directory to copy.
  dest (Path) - The place where you want the recursive copy to show up. This
    must not already exist.
  symlinks (bool) - Preserve symlinks. No effect on Windows.

Raises file.Error

&mdash; **def [ensure\_directory](/recipe_modules/file/api.py#L202)(self, name, dest, mode=511):**

Ensures that `dest` exists and is a directory.

Args:
  name (str) - The name of the step.
  dest (Path) - The directory to ensure.
  mode (int) - The mode to use if the directory doesn't exist. This method
    does not ensure the mode if the directory already exists (if you need
    that behaviour, file a bug).

Raises file.Error if the path exists but is not a directory.

&mdash; **def [glob\_paths](/recipe_modules/file/api.py#L138)(self, name, source, pattern, test_data=()):**

Performs glob expansion on `pattern`.

glob rules for `pattern` follow the same syntax as for the python `glob`
stdlib module.

Args:
  name (str) - The name of the step.
  source (Path) - The directory whose contents should be globbed.
  pattern (str) - The glob pattern to apply under `source`.
  test_data (iterable[str]) - Some default data for this step to return when
    running under simulation. This should be the list of file items found
    in this directory.

Returns list[Path] - All paths found.

Raises file.Error.

&mdash; **def [listdir](/recipe_modules/file/api.py#L179)(self, name, source, test_data=()):**

List all files inside a directory.

Args:
  name (str) - The name of the step.
  source (Path) - The directory to list.
  test_data (iterable[str]) - Some default data for this step to return when
    running under simulation. This should be the list of file items found
    in this directory.

Returns list[Path]

Raises file.Error.

&mdash; **def [move](/recipe_modules/file/api.py#L87)(self, name, source, dest):**

Moves a file or directory.

Behaves identically to shutil.move.

Args:
  name (str) - The name of the step.
  source (Path) - The path of the item to move.
  dest (Path) - The new name of the item.

Raises file.Error

&mdash; **def [read\_text](/recipe_modules/file/api.py#L105)(self, name, source, test_data=''):**

Reads a file as UTF-8 encoded text.

Args:
  name (str) - The name of the step.
  source (Path) - The path of the file to read.
  test_data (str) - Some default data for this step to return when running
    under simulation.

Returns (str) - The content of the file.

Raises file.Error

&mdash; **def [remove](/recipe_modules/file/api.py#L164)(self, name, source):**

Remove a file.

Does not raise Error if the file doesn't exist.

Args:
  name (str) - The name of the step.
  source (Path) - The file to remove.

Raises file.Error.

&mdash; **def [rmcontents](/recipe_modules/file/api.py#L236)(self, name, source):**

Similar to rmtree, but removes only contents not the directory.

This is useful e.g. when removing contents of current working directory.
Deleting current working directory makes all further getcwd calls fail
until chdir is called. chdir would be tricky in recipes, so we provide
a call that doesn't delete the directory itself.

Args:
  name (str) - The name of the step.
  source (Path) - The directory whose contents should be removed.

Raises file.Error.

&mdash; **def [rmglob](/recipe_modules/file/api.py#L254)(self, name, source, pattern):**

Removes all entries in `source` matching the glob `pattern`.

Args:
  name (str) - The name of the step.
  source (Path) - The directory whose contents should be filtered and
    removed.
  pattern (str) - The glob pattern to apply under `source`. Anything
    matching this pattern will be removed.

Raises file.Error.

&mdash; **def [rmtree](/recipe_modules/file/api.py#L219)(self, name, source):**

Recursively removes a directory.

This uses a native python on Linux/Mac, and uses `rd` on Windows to avoid
issues w.r.t. path lengths and read-only attributes. If the directory is
gone already, this returns without error.

Args:
  name (str) - The name of the step.
  source (Path) - The directory to remove.

Raises file.Error.

&mdash; **def [write\_text](/recipe_modules/file/api.py#L124)(self, name, dest, text_data):**

Write the given UTF-8 encoded `text_data` to `dest`.

Args:
  name (str) - The name of the step.
  dest (Path) - The path of the file to write.
  text_data (str) - The UTF-8 encoded data to write.

Raises file.Error.
### *recipe_modules* / [generator\_script](/recipe_modules/generator_script)

[DEPS](/recipe_modules/generator_script/__init__.py#L5): [context](#recipe_modules--context), [step](#recipe_modules--step), [json](#recipe_modules--json), [python](#recipe_modules--python), [path](#recipe_modules--path)

#### **class [GeneratorScriptApi](/recipe_modules/generator_script/api.py#L7)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [\_\_call\_\_](/recipe_modules/generator_script/api.py#L34)(self, path_to_script, \*args):**

Run a script and generate the steps emitted by that script.

The script will be invoked with --output-json /path/to/file.json. The script
is expected to exit 0 and write steps into that file. Once the script
outputs all of the steps to that file, the recipe will read the steps from
that file and execute them in order. Any *args specified will be
additionally passed to the script.

The step data is formatted as a list of JSON objects. Each object
corresponds to one step, and contains the following keys:
  name: the name of this step.

  cmd: a list of strings that indicate the command to run (e.g. argv)

  env: a {key:value} dictionary of the environment variables to override.
   every value is formatted with the current environment with the python
   % operator, so a value of "%(PATH)s:/some/other/path" would resolve to
   the current PATH value, concatenated with ":/some/other/path"

  cwd: an absolute path to the current working directory for this script.

  always_run: a bool which indicates that this step should run, even if
    some previous step failed.

  outputs_presentation_json: a bool which indicates that this step will emit
    a presentation json file. If this is True, the cmd will be extended with
    a `--presentation-json /path/to/file.json`. This file will be used to
    update the step's presentation on the build status page. The file will
    be expected to contain a single json object, with any of the following
    keys:
      logs: {logname: [lines]} specifies one or more auxillary logs.
      links: {link_name: link_content} to add extra links to the step.
      step_summary_text: A string to set as the step summary.
      step_text: A string to set as the step text.
      properties: {prop: value} build_properties to add to the build status
        page. Note that these are write-only: The only way to read them is
        via the status page. There is intentionally no mechanism to read
        them back from inside of the recipes.

  allow_subannotations: allow this step to emit legacy buildbot
    subannotations. If you don't know what this is, you shouldn't use it. If
    you know what it is, you also shouldn't use it.
### *recipe_modules* / [json](/recipe_modules/json)

[DEPS](/recipe_modules/json/__init__.py#L5): [raw_io](#recipe_modules--raw_io), [python](#recipe_modules--python), [properties](#recipe_modules--properties)

Methods for producing and consuming JSON.

#### **class [JsonApi](/recipe_modules/json/api.py#L80)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [\_\_init\_\_](/recipe_modules/json/api.py#L81)(self, \*\*kwargs):**

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&mdash; **def [input](/recipe_modules/json/api.py#L97)(self, data):**

A placeholder which will expand to a file path containing <data>.

&mdash; **def [is\_serializable](/recipe_modules/json/api.py#L89)(self, obj):**

Returns True if the object is JSON-serializable.

&emsp; **@staticmethod**<br>&mdash; **def [loads](/recipe_modules/json/api.py#L85)(data, \*\*kwargs):**

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&mdash; **def [output](/recipe_modules/json/api.py#L102)(self, add_json_log=True, name=None, leak_to=None):**

A placeholder which will expand to '/tmp/file'.

If leak_to is provided, it must be a Path object. This path will be used in
place of a random temporary file, and the file will not be deleted at the
end of the step.

&mdash; **def [read](/recipe_modules/json/api.py#L113)(self, name, path, add_json_log=True, output_name=None, \*\*kwargs):**

Returns a step that reads a JSON file.
### *recipe_modules* / [path](/recipe_modules/path)

[DEPS](/recipe_modules/path/__init__.py#L5): [platform](#recipe_modules--platform), [properties](#recipe_modules--properties)

#### **class [PathApi](/recipe_modules/path/api.py#L164)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

PathApi provides common os.path functions as well as convenience functions
for generating absolute paths to things in a testable way.

It defines paths to standard directories:
- start_dir: the directory where the recipe execution starts.
- cache: a directory where each subdirectory is a cache of a specific format,
  e.g. for git, isolate, goma, etc. A program that runs the recipe has a right
  to cleanup individual subdirectories in the cache directory.
  Typical usage: api.path["cache'].join("mycache")
- tmp_base: the base directory for temporary files.

Mocks:
  exists (list): Paths which should exist in the test case. Thes must be paths
    using the [*_ROOT] placeholders. ex. '[BUILD_ROOT]/scripts'.

&mdash; **def [\_\_contains\_\_](/recipe_modules/path/api.py#L379)(self, pathname):**

&mdash; **def [\_\_dir\_\_](/recipe_modules/path/api.py#L412)(self):**

&mdash; **def [\_\_getattr\_\_](/recipe_modules/path/api.py#L403)(self, name):**

&mdash; **def [\_\_getitem\_\_](/recipe_modules/path/api.py#L397)(self, name):**

&mdash; **def [\_\_init\_\_](/recipe_modules/path/api.py#L203)(self, path_properties, \*\*kwargs):**

&mdash; **def [\_\_setitem\_\_](/recipe_modules/path/api.py#L383)(self, pathname, path):**

&mdash; **def [abs\_to\_path](/recipe_modules/path/api.py#L329)(self, abs_string_path):**

Converts an absolute path string `string_path` to a real Path object,
using the most appropriate known base path.

* abs_string_path MUST be an absolute path
* abs_string_path MUST be rooted in one of the configured base paths known
  to the path module.

This method will find the longest match in all the following:
  * module resource paths
  * recipe resource paths
  * package repo paths
  * dynamic_paths
  * base_paths

Example:
```
  # assume [START_DIR] == "/basis/dir/for/recipe"
  api.path.abs_to_path("/basis/dir/for/recipe/some/other/dir") ->
    Path("[START_DIR]/some/other/dir")
```

Raises an ValueError if the preconditions are not met, otherwise returns the
Path object.

&mdash; **def [assert\_absolute](/recipe_modules/path/api.py#L309)(self, path):**

&mdash; **def [get](/recipe_modules/path/api.py#L392)(self, name, default=None):**

&mdash; **def [get\_config\_defaults](/recipe_modules/path/api.py#L193)(self):**

&mdash; **def [initialize](/recipe_modules/path/api.py#L254)(self):**

&mdash; **def [mkdtemp](/recipe_modules/path/api.py#L312)(self, prefix):**

Makes a new temp directory, returns path to it.

&mdash; **def [mock\_add\_paths](/recipe_modules/path/api.py#L288)(self, path):**

For testing purposes, assert that |path| exists.

&mdash; **def [mock\_copy\_paths](/recipe_modules/path/api.py#L293)(self, source, dest):**

For testing purposes, copy |source| to |dest|.

&mdash; **def [mock\_remove\_paths](/recipe_modules/path/api.py#L298)(self, path, filt=(lambda p: True)):**

For testing purposes, assert that |path| doesn't exist.

Args:
  path (str|Path) - The path to remove.
  filt (func[str] bool) - Called for every candidate path. Return
    True to remove this path.
### *recipe_modules* / [platform](/recipe_modules/platform)

#### **class [PlatformApi](/recipe_modules/platform/api.py#L27)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

Provides host-platform-detection properties.

Mocks:
  name (str): A value equivalent to something that might be returned by
    sys.platform.
  bits (int): Either 32 or 64.

&mdash; **def [\_\_init\_\_](/recipe_modules/platform/api.py#L37)(self, \*\*kwargs):**

&emsp; **@property**<br>&mdash; **def [arch](/recipe_modules/platform/api.py#L89)(self):**

&emsp; **@property**<br>&mdash; **def [bits](/recipe_modules/platform/api.py#L83)(self):**

&emsp; **@property**<br>&mdash; **def [cpu\_count](/recipe_modules/platform/api.py#L93)(self):**

The number of CPU cores, according to multiprocessing.cpu_count().

&emsp; **@property**<br>&mdash; **def [is\_linux](/recipe_modules/platform/api.py#L75)(self):**

&emsp; **@property**<br>&mdash; **def [is\_mac](/recipe_modules/platform/api.py#L71)(self):**

&emsp; **@property**<br>&mdash; **def [is\_win](/recipe_modules/platform/api.py#L67)(self):**

&emsp; **@property**<br>&mdash; **def [name](/recipe_modules/platform/api.py#L79)(self):**

&emsp; **@staticmethod**<br>&mdash; **def [normalize\_platform\_name](/recipe_modules/platform/api.py#L98)(platform):**

One of python's sys.platform values -> 'win', 'linux' or 'mac'.
### *recipe_modules* / [properties](/recipe_modules/properties)

#### **class [PropertiesApi](/recipe_modules/properties/api.py#L12)([RecipeApiPlain](/recipe_engine/recipe_api.py#L752), collections.Mapping):**

Provide an immutable mapping view into the 'properties' for the current run.

The value of this api is equivalent to this transformation of the legacy
build values:
  val = factory_properties
  val.update(build_properties)

&mdash; **def [\_\_getitem\_\_](/recipe_modules/properties/api.py#L35)(self, key):**

&mdash; **def [\_\_init\_\_](/recipe_modules/properties/api.py#L24)(self, \*\*kwargs):**

&mdash; **def [\_\_iter\_\_](/recipe_modules/properties/api.py#L41)(self):**

&mdash; **def [\_\_len\_\_](/recipe_modules/properties/api.py#L38)(self):**

&mdash; **def [legacy](/recipe_modules/properties/api.py#L44)(self):**

Returns a set of properties, possibly used by legacy scripts.

&mdash; **def [thaw](/recipe_modules/properties/api.py#L58)(self):**

Returns a vanilla python jsonish dictionary of properties.
### *recipe_modules* / [python](/recipe_modules/python)

[DEPS](/recipe_modules/python/__init__.py#L5): [raw_io](#recipe_modules--raw_io), [context](#recipe_modules--context), [step](#recipe_modules--step)

#### **class [PythonApi](/recipe_modules/python/api.py#L10)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [\_\_call\_\_](/recipe_modules/python/api.py#L11)(self, name, script, args=None, unbuffered=True, venv=None, \*\*kwargs):**

Return a step to run a python script with arguments.

TODO: We should just use a single "args" list. Having "script"
separate but required/first leads to weird things like:
    (... script='-m', args=['module'])

Args:
  name (str): The name of the step.
  script (str or Path): The Path of the script to run, or the first
      command-line argument to pass to Python.
  args (list or None): If not None, additional arguments to pass to the
      Python command.
  unbuffered (bool): If True, run Python in unbuffered mode.
  venv (None or False or True or Path): If True, run the script through
      "vpython". This will, by default, probe the target script for a
      configured VirtualEnv and, failing that, use an empty VirtualEnv. If a
      Path, this is a path to an explicit "vpython" VirtualEnv spec file to
      use. If False or None (default), the script will be run through the
      standard Python interpreter.
  kwargs: Additional keyword arguments to forward to "step".

&mdash; **def [failing\_step](/recipe_modules/python/api.py#L88)(self, name, text, as_log=None):**

Return a failing step (correctly recognized in expectations).

&mdash; **def [inline](/recipe_modules/python/api.py#L52)(self, name, program, add_python_log=True, \*\*kwargs):**

Run an inline python program as a step.

Program is output to a temp file and run when this step executes.

&mdash; **def [result\_step](/recipe_modules/python/api.py#L69)(self, name, text, retcode, as_log=None):**

Return a no-op step that exits with a specified return code.

&mdash; **def [succeeding\_step](/recipe_modules/python/api.py#L84)(self, name, text, as_log=None):**

Return a succeeding step (correctly recognized in expectations).
### *recipe_modules* / [raw\_io](/recipe_modules/raw_io)

#### **class [RawIOApi](/recipe_modules/raw_io/api.py#L171)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&emsp; **@staticmethod**<br>&mdash; **def [input](/recipe_modules/raw_io/api.py#L172)(data, suffix=''):**

Returns a Placeholder for use as a step argument.

This placeholder can be used to pass data to steps. The recipe engine will
dump the 'data' into a file, and pass the filename to the command line
argument.

data MUST be of type 'str' (not basestring, not unicode).

If 'suffix' is not '', it will be used when the engine calls
tempfile.mkstemp.

See examples/full.py for usage example.

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&emsp; **@staticmethod**<br>&mdash; **def [input\_text](/recipe_modules/raw_io/api.py#L190)(data, suffix=''):**

Returns a Placeholder for use as a step argument.

data MUST be of type 'str' (not basestring, not unicode). The str is
expected to have valid utf-8 data in it.

Similar to input(), but ensures that 'data' is valid utf-8 text. Any
non-utf-8 characters will be replaced with �.

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&emsp; **@staticmethod**<br>&mdash; **def [output](/recipe_modules/raw_io/api.py#L203)(suffix='', leak_to=None, name=None):**

Returns a Placeholder for use as a step argument, or for std{out,err}.

If 'leak_to' is None, the placeholder is backed by a temporary file with
a suffix 'suffix'. The file is deleted when the step finishes.

If 'leak_to' is not None, then it should be a Path and placeholder
redirects IO to a file at that path. Once step finishes, the file is
NOT deleted (i.e. it's 'leaking'). 'suffix' is ignored in that case.

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&emsp; **@staticmethod**<br>&mdash; **def [output\_dir](/recipe_modules/raw_io/api.py#L229)(suffix='', leak_to=None, name=None):**

Returns a directory Placeholder for use as a step argument.

If 'leak_to' is None, the placeholder is backed by a temporary dir with
a suffix 'suffix'. The dir is deleted when the step finishes.

If 'leak_to' is not None, then it should be a Path and placeholder
redirects IO to a dir at that path. Once step finishes, the dir is
NOT deleted (i.e. it's 'leaking'). 'suffix' is ignored in that case.

&emsp; **@[returns\_placeholder](/recipe_engine/util.py#L119)**<br>&emsp; **@staticmethod**<br>&mdash; **def [output\_text](/recipe_modules/raw_io/api.py#L217)(suffix='', leak_to=None, name=None):**

Returns a Placeholder for use as a step argument, or for std{out,err}.

Similar to output(), but uses an OutputTextPlaceholder, which expects utf-8
encoded text.
Similar to input(), but tries to decode the resulting data as utf-8 text,
replacing any decoding errors with �.
### *recipe_modules* / [shutil](/recipe_modules/shutil)

[DEPS](/recipe_modules/shutil/__init__.py#L5): [python](#recipe_modules--python), [path](#recipe_modules--path), [raw_io](#recipe_modules--raw_io), [json](#recipe_modules--json)

#### **class [ShutilApi](/recipe_modules/shutil/api.py#L7)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [copy](/recipe_modules/shutil/api.py#L16)(self, name, source, dest, step_test_data=None, \*\*kwargs):**

Copy a file.

&mdash; **def [copytree](/recipe_modules/shutil/api.py#L31)(self, name, source, dest, symlinks=False, \*\*kwargs):**

Run shutil.copytree in a step.

&mdash; **def [glob](/recipe_modules/shutil/api.py#L67)(self, name, pattern, test_data=None, \*\*kwargs):**

Performs glob search on a directory.

Returns list of files found.

&mdash; **def [listdir](/recipe_modules/shutil/api.py#L105)(self, name, path, step_test_data=None, \*\*kwargs):**

Wrapper for os.listdir.

&mdash; **def [makedirs](/recipe_modules/shutil/api.py#L120)(self, name, path, mode=511, \*\*kwargs):**

Like os.makedirs, except that if the directory exists, then there is no
error.

&mdash; **def [read](/recipe_modules/shutil/api.py#L45)(self, name, path, test_data=None, \*\*kwargs):**

Read a file and return its contents.

&mdash; **def [remove](/recipe_modules/shutil/api.py#L92)(self, name, path, \*\*kwargs):**

Remove the given file.

&mdash; **def [rmtree](/recipe_modules/shutil/api.py#L8)(self, path, \*\*kwargs):**

&mdash; **def [write](/recipe_modules/shutil/api.py#L53)(self, name, path, data, \*\*kwargs):**

Write the given data to a file.
### *recipe_modules* / [step](/recipe_modules/step)

[DEPS](/recipe_modules/step/__init__.py#L8): [context](#recipe_modules--context), [path](#recipe_modules--path)

#### **class [StepApi](/recipe_modules/step/api.py#L16)([RecipeApiPlain](/recipe_engine/recipe_api.py#L752)):**

&emsp; **@property**<br>&mdash; **def [InfraFailure](/recipe_modules/step/api.py#L41)(self):**

See recipe_api.py for docs. 

&emsp; **@property**<br>&mdash; **def [StepFailure](/recipe_modules/step/api.py#L31)(self):**

See recipe_api.py for docs. 

&emsp; **@property**<br>&mdash; **def [StepTimeout](/recipe_modules/step/api.py#L46)(self):**

See recipe_api.py for docs. 

&emsp; **@property**<br>&mdash; **def [StepWarning](/recipe_modules/step/api.py#L36)(self):**

See recipe_api.py for docs. 

&emsp; **@recipe_api.composite_step**<br>&mdash; **def [\_\_call\_\_](/recipe_modules/step/api.py#L105)(self, name, cmd, ok_ret=None, infra_step=False, wrapper=(), timeout=None, allow_subannotations=None, trigger_specs=None, stdout=None, stderr=None, stdin=None, step_test_data=None):**

Returns a step dictionary which is compatible with annotator.py.

Args:
  name (string): The name of this step.
  cmd (list of strings): in the style of subprocess.Popen or None to create
    a no-op fake step.
  ok_ret (tuple or set of ints, str): allowed return codes. Any unexpected
    return codes will cause an exception to be thrown. If you pass in the
    value 'any' or 'all', the engine will allow any return code to be
    returned. Defaults to {0}
  infra_step: Whether or not this is an infrastructure step. Infrastructure
    steps will place the step in an EXCEPTION state and raise InfraFailure.
  wrapper: If supplied, a command to prepend to the executed step as a
    command wrapper.
  timeout: If supplied, the recipe engine will kill the step after the
    specified number of seconds.
  allow_subannotations (bool): if True, lets the step emit its own
      annotations. NOTE: Enabling this can cause some buggy behavior. Please
      strongly consider using step_result.presentation instead. If you have
      questions, please contact infra-dev@chromium.org.
  trigger_specs: a list of trigger specifications
  stdout: Placeholder to put step stdout into. If used, stdout won't appear
      in annotator's stdout (and |allow_subannotations| is ignored).
  stderr: Placeholder to put step stderr into. If used, stderr won't appear
      in annotator's stderr.
  stdin: Placeholder to read step stdin from.
  step_test_data (func -> recipe_test_api.StepTestData): A factory which
      returns a StepTestData object that will be used as the default test
      data for this step. The recipe author can override/augment this object
      in the GenTests function.

Returns:
  Opaque step object produced and understood by recipe engine.

&mdash; **def [\_\_init\_\_](/recipe_modules/step/api.py#L20)(self, step_properties, \*\*kwargs):**

&emsp; **@property**<br>&mdash; **def [active\_result](/recipe_modules/step/api.py#L51)(self):**

The currently active (open) result from the last step that was run.

Allows you to do things like:
  try:
    api.step('run test', [..., api.json.output()])
  finally:
    result = api.step.active_result
    if result.json.output:
      new_step_text = result.json.output['step_text']
      api.step.active_result.presentation.step_text = new_step_text

This will update the step_text of the test, even if the test fails. Without
this api, the above code would look like:

  try:
    result = api.step('run test', [..., api.json.output()])
  except api.StepFailure as f:
    result = f.result
    raise
  finally:
    if result.json.output:
      new_step_text = result.json.output['step_text']
      api.step.active_result.presentation.step_text = new_step_text

&emsp; **@property**<br>&mdash; **def [defer\_results](/recipe_modules/step/api.py#L100)(self):**

See recipe_api.py for docs. 

&emsp; **@contextlib.contextmanager**<br>&mdash; **def [nest](/recipe_modules/step/api.py#L79)(self, name):**

Nest allows you to nest steps hierarchically on the build UI.

Calling

    with api.step.nest(<name>):
      ...

will generate a dummy step with the provided name. All other steps run
within this with statement will be hidden from the UI by default under this
dummy step in a collapsible hierarchy. Nested blocks can also nest within
each other.

The nesting is implemented by adjusting the 'name' and 'nest_level' fields
of the context (see the context() method above).
### *recipe_modules* / [tempfile](/recipe_modules/tempfile)

[DEPS](/recipe_modules/tempfile/__init__.py#L5): [path](#recipe_modules--path), [shutil](#recipe_modules--shutil)

#### **class [TempfileApi](/recipe_modules/tempfile/api.py#L10)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&emsp; **@contextlib.contextmanager**<br>&mdash; **def [temp\_dir](/recipe_modules/tempfile/api.py#L11)(self, prefix):**
### *recipe_modules* / [time](/recipe_modules/time)

#### **class [TimeApi](/recipe_modules/time/api.py#L10)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [\_\_init\_\_](/recipe_modules/time/api.py#L11)(self, \*\*kwargs):**

&mdash; **def [time](/recipe_modules/time/api.py#L19)(self):**

Return current timestamp as a float number of seconds since epoch.

&mdash; **def [utcnow](/recipe_modules/time/api.py#L27)(self):**

Return current UTC time as a datetime.datetime.
### *recipe_modules* / [url](/recipe_modules/url)

[DEPS](/recipe_modules/url/__init__.py#L5): [python](#recipe_modules--python), [path](#recipe_modules--path), [json](#recipe_modules--json), [context](#recipe_modules--context), [raw_io](#recipe_modules--raw_io)

#### **class [UrlApi](/recipe_modules/url/api.py#L13)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [get\_file](/recipe_modules/url/api.py#L128)(self, url, path, step_name=None, headers=None, transient_retry=True, strip_prefix=None, timeout=None):**

GET data at given URL and writes it to file.

Args:
  url: URL to request.
  path (Path): the Path where the content will be written.
  step_name: optional step name, 'fetch <url>' by default.
  headers: a {header_name: value} dictionary for HTTP headers.
  transient_retry (bool or int): Determines how transient HTTP errorts
      (>500) will be retried. If True (default), errors will be retried up
      to 10 times. If False, no transient retries will occur. If an integer
      is supplied, this is the number of transient retries to perform. All
      retries have exponential backoff applied.
  strip_prefix (str or None): If not None, this prefix must be present at
      the beginning of the response, and will be stripped from the resulting
      content (e.g., GERRIT_JSON_PREFIX).
  timeout: Timeout (see step.__call__).

Returns (UrlApi.Response): Response with "path" as its "output" value.

Raises:
  HTTPError, InfraHTTPError: if the request failed.
  ValueError: If the request was invalid.

&mdash; **def [get\_json](/recipe_modules/url/api.py#L183)(self, url, step_name=None, headers=None, transient_retry=True, strip_prefix=None, log=False, timeout=None, default_test_data=None):**

GET data at given URL and writes it to file.

Args:
  url: URL to request.
  step_name: optional step name, 'fetch <url>' by default.
  headers: a {header_name: value} dictionary for HTTP headers.
  transient_retry (bool or int): Determines how transient HTTP errorts
      (>500) will be retried. If True (default), errors will be retried up
      to 10 times. If False, no transient retries will occur. If an integer
      is supplied, this is the number of transient retries to perform. All
      retries have exponential backoff applied.
  strip_prefix (str or None): If not None, this prefix must be present at
      the beginning of the response, and will be stripped from the resulting
      content (e.g., GERRIT_JSON_PREFIX).
  log (bool): If True, emit the JSON content as a log.
  timeout: Timeout (see step.__call__).
  default_test_data (jsonish): If provided, use this as the unmarshalled
      JSON result when testing if no overriding data is available.

Returns (UrlApi.Response): Response with the JSON as its "output" value.

Raises:
  HTTPError, InfraHTTPError: if the request failed.
  ValueError: If the request was invalid.

&mdash; **def [get\_text](/recipe_modules/url/api.py#L156)(self, url, step_name=None, headers=None, transient_retry=True, timeout=None, default_test_data=None):**

GET data at given URL and writes it to file.

Args:
  url: URL to request.
  step_name: optional step name, 'fetch <url>' by default.
  headers: a {header_name: value} dictionary for HTTP headers.
  transient_retry (bool or int): Determines how transient HTTP errorts
      (>500) will be retried. If True (default), errors will be retried up
      to 10 times. If False, no transient retries will occur. If an integer
      is supplied, this is the number of transient retries to perform. All
      retries have exponential backoff applied.
  timeout: Timeout (see step.__call__).
  default_test_data (str): If provided, use this as the text output when
      testing if no overriding data is available.

Returns (UrlApi.Response): Response with the content as its output value.

Raises:
  HTTPError, InfraHTTPError: if the request failed.
  ValueError: If the request was invalid.

&mdash; **def [join](/recipe_modules/url/api.py#L92)(self, \*parts):**

Constructs a URL path from composite parts.

Args:
  parts (str...): Strings to concastenate. Any leading or trailing slashes
      will be stripped from intermediate strings to ensure that they join
      together. Trailing slashes will not be stripped from the last part.

&mdash; **def [validate\_url](/recipe_modules/url/api.py#L108)(self, v):**

Validates that "v" is a valid URL.

A valid URL has a scheme and netloc, and must begin with HTTP or HTTPS.

Args:
  v (str): The URL to validate.

Returns (bool): True if the URL is considered secure, False if not.

Raises:
  ValueError: if "v" is not valid.
### *recipe_modules* / [uuid](/recipe_modules/uuid)

#### **class [UuidApi](/recipe_modules/uuid/api.py#L9)([RecipeApi](/recipe_engine/recipe_api.py#L884)):**

&mdash; **def [random](/recipe_modules/uuid/api.py#L10)(self):**

Generates and returns a random UUID as a string.
## Recipes

### *recipes* / [context:examples/full](/recipe_modules/context/examples/full.py)

[DEPS](/recipe_modules/context/examples/full.py#L7): [context](#recipe_modules--context), [path](#recipe_modules--path), [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/context/examples/full.py#L15)(api):**
### *recipes* / [context:tests/cwd](/recipe_modules/context/tests/cwd.py)

[DEPS](/recipe_modules/context/tests/cwd.py#L5): [context](#recipe_modules--context), [step](#recipe_modules--step), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/context/tests/cwd.py#L11)(api):**
### *recipes* / [context:tests/env](/recipe_modules/context/tests/env.py)

[DEPS](/recipe_modules/context/tests/env.py#L5): [path](#recipe_modules--path), [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step), [context](#recipe_modules--context)

&mdash; **def [RunSteps](/recipe_modules/context/tests/env.py#L19)(api):**
### *recipes* / [context:tests/increment\_nest\_level](/recipe_modules/context/tests/increment_nest_level.py)

[DEPS](/recipe_modules/context/tests/increment_nest_level.py#L5): [step](#recipe_modules--step), [context](#recipe_modules--context), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/context/tests/increment_nest_level.py#L12)(api):**
### *recipes* / [context:tests/infra\_step](/recipe_modules/context/tests/infra_step.py)

[DEPS](/recipe_modules/context/tests/infra_step.py#L5): [context](#recipe_modules--context), [path](#recipe_modules--path), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/context/tests/infra_step.py#L11)(api):**
### *recipes* / [engine\_tests/bad\_subprocess](/recipes/engine_tests/bad_subprocess.py)

[DEPS](/recipes/engine_tests/bad_subprocess.py#L7): [python](#recipe_modules--python)

Tests that daemons that hang on to STDOUT can't cause the engine to hang.

&mdash; **def [RunSteps](/recipes/engine_tests/bad_subprocess.py#L11)(api):**
### *recipes* / [engine\_tests/depend\_on/bad\_properties](/recipes/engine_tests/depend_on/bad_properties.py)

[DEPS](/recipes/engine_tests/depend_on/bad_properties.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/bad_properties.py#L20)(api):**
### *recipes* / [engine\_tests/depend\_on/bottom](/recipes/engine_tests/depend_on/bottom.py)

[DEPS](/recipes/engine_tests/depend_on/bottom.py#L8): [properties](#recipe_modules--properties), [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/bottom.py#L22)(api, number):**
### *recipes* / [engine\_tests/depend\_on/dont\_need\_properties](/recipes/engine_tests/depend_on/dont_need_properties.py)

[DEPS](/recipes/engine_tests/depend_on/dont_need_properties.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/dont_need_properties.py#L14)(api):**
### *recipes* / [engine\_tests/depend\_on/dont\_need\_properties\_helper](/recipes/engine_tests/depend_on/dont_need_properties_helper.py)

[DEPS](/recipes/engine_tests/depend_on/dont_need_properties_helper.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/dont_need_properties_helper.py#L19)(api):**
### *recipes* / [engine\_tests/depend\_on/need\_return\_schema](/recipes/engine_tests/depend_on/need_return_schema.py)

[DEPS](/recipes/engine_tests/depend_on/need_return_schema.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/need_return_schema.py#L18)(api):**
### *recipes* / [engine\_tests/depend\_on/need\_return\_schema\_helper](/recipes/engine_tests/depend_on/need_return_schema_helper.py)

[DEPS](/recipes/engine_tests/depend_on/need_return_schema_helper.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/need_return_schema_helper.py#L16)(api):**
### *recipes* / [engine\_tests/depend\_on/no\_return](/recipes/engine_tests/depend_on/no_return.py)

[DEPS](/recipes/engine_tests/depend_on/no_return.py#L8): [properties](#recipe_modules--properties), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/no_return.py#L18)(api):**
### *recipes* / [engine\_tests/depend\_on/top](/recipes/engine_tests/depend_on/top.py)

[DEPS](/recipes/engine_tests/depend_on/top.py#L8): [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/depend_on/top.py#L22)(api, to_pass):**
### *recipes* / [engine\_tests/expect\_exception](/recipes/engine_tests/expect_exception.py)

[DEPS](/recipes/engine_tests/expect_exception.py#L7): [step](#recipe_modules--step)

Tests that step_data can accept multiple specs at once.

&mdash; **def [RunSteps](/recipes/engine_tests/expect_exception.py#L11)(api):**
### *recipes* / [engine\_tests/functools\_partial](/recipes/engine_tests/functools_partial.py)

[DEPS](/recipes/engine_tests/functools_partial.py#L12): [step](#recipe_modules--step)

Engine shouldn't explode when step_test_data gets functools.partial.

This is a regression test for a bug caused by this revision:
http://src.chromium.org/viewvc/chrome?revision=298072&view=revision

When this recipe is run (by run_test.py), the _print_step code is exercised.

&mdash; **def [RunSteps](/recipes/engine_tests/functools_partial.py#L14)(api):**
### *recipes* / [engine\_tests/missing\_start\_dir](/recipes/engine_tests/missing_start_dir.py)

[DEPS](/recipes/engine_tests/missing_start_dir.py#L7): [path](#recipe_modules--path), [step](#recipe_modules--step)

Tests that deleting the current working directory doesn't immediately fail.

&mdash; **def [RunSteps](/recipes/engine_tests/missing_start_dir.py#L13)(api):**
### *recipes* / [engine\_tests/multi\_test\_data](/recipes/engine_tests/multi_test_data.py)

[DEPS](/recipes/engine_tests/multi_test_data.py#L7): [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

Tests that step_data can accept multiple specs at once.

&mdash; **def [RunSteps](/recipes/engine_tests/multi_test_data.py#L12)(api):**
### *recipes* / [engine\_tests/nonexistent\_command](/recipes/engine_tests/nonexistent_command.py)

[DEPS](/recipes/engine_tests/nonexistent_command.py#L1): [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipes/engine_tests/nonexistent_command.py#L3)(api):**
### *recipes* / [engine\_tests/recipe\_paths](/recipes/engine_tests/recipe_paths.py)

[DEPS](/recipes/engine_tests/recipe_paths.py#L7): [step](#recipe_modules--step), [path](#recipe_modules--path), [python](#recipe_modules--python)

Tests that recipes have access to names, resources and their package.

&mdash; **def [RunSteps](/recipes/engine_tests/recipe_paths.py#L13)(api):**
### *recipes* / [engine\_tests/sort\_properties](/recipes/engine_tests/sort_properties.py)

[DEPS](/recipes/engine_tests/sort_properties.py#L7): [step](#recipe_modules--step)

Tests that step presentation properties can be ordered.

&mdash; **def [RunSteps](/recipes/engine_tests/sort_properties.py#L11)(api):**
### *recipes* / [engine\_tests/step\_stack\_exhaustion](/recipes/engine_tests/step_stack_exhaustion.py)

[DEPS](/recipes/engine_tests/step_stack_exhaustion.py#L10): [step](#recipe_modules--step)

Tests that placeholders can't wreck the world by exhausting the step stack.

&mdash; **def [RunSteps](/recipes/engine_tests/step_stack_exhaustion.py#L19)(api):**
### *recipes* / [engine\_tests/undeclared\_method](/recipes/engine_tests/undeclared_method.py)

[DEPS](/recipes/engine_tests/undeclared_method.py#L7): [properties](#recipe_modules--properties), [step](#recipe_modules--step), [python](#recipe_modules--python)

&mdash; **def [RunSteps](/recipes/engine_tests/undeclared_method.py#L19)(api, from_recipe, attribute, module):**
### *recipes* / [engine\_tests/unicode](/recipes/engine_tests/unicode.py)

[DEPS](/recipes/engine_tests/unicode.py#L6): [step](#recipe_modules--step), [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipes/engine_tests/unicode.py#L11)(api):**
### *recipes* / [engine\_tests/whitelist\_steps](/recipes/engine_tests/whitelist_steps.py)

[DEPS](/recipes/engine_tests/whitelist_steps.py#L10): [context](#recipe_modules--context), [properties](#recipe_modules--properties), [step](#recipe_modules--step)

Tests that step_data can accept multiple specs at once.

&mdash; **def [RunSteps](/recipes/engine_tests/whitelist_steps.py#L20)(api, fakeit):**
### *recipes* / [file:examples/copy](/recipe_modules/file/examples/copy.py)

[DEPS](/recipe_modules/file/examples/copy.py#L5): [file](#recipe_modules--file), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/file/examples/copy.py#L11)(api):**
### *recipes* / [file:examples/copytree](/recipe_modules/file/examples/copytree.py)

[DEPS](/recipe_modules/file/examples/copytree.py#L5): [file](#recipe_modules--file), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/file/examples/copytree.py#L11)(api):**
### *recipes* / [file:examples/error](/recipe_modules/file/examples/error.py)

[DEPS](/recipe_modules/file/examples/error.py#L5): [path](#recipe_modules--path), [file](#recipe_modules--file)

&mdash; **def [RunSteps](/recipe_modules/file/examples/error.py#L11)(api):**
### *recipes* / [generator\_script:examples/full](/recipe_modules/generator_script/examples/full.py)

[DEPS](/recipe_modules/generator_script/examples/full.py#L7): [generator_script](#recipe_modules--generator_script), [json](#recipe_modules--json), [path](#recipe_modules--path), [properties](#recipe_modules--properties), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/generator_script/examples/full.py#L19)(api, script_name):**
### *recipes* / [json:examples/full](/recipe_modules/json/examples/full.py)

[DEPS](/recipe_modules/json/examples/full.py#L5): [path](#recipe_modules--path), [json](#recipe_modules--json), [properties](#recipe_modules--properties), [python](#recipe_modules--python), [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/json/examples/full.py#L16)(api):**
### *recipes* / [path:examples/full](/recipe_modules/path/examples/full.py)

[DEPS](/recipe_modules/path/examples/full.py#L5): [properties](#recipe_modules--properties), [step](#recipe_modules--step), [path](#recipe_modules--path), [platform](#recipe_modules--platform)

&mdash; **def [RunSteps](/recipe_modules/path/examples/full.py#L14)(api):**
### *recipes* / [platform:examples/full](/recipe_modules/platform/examples/full.py)

[DEPS](/recipe_modules/platform/examples/full.py#L5): [platform](#recipe_modules--platform), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/platform/examples/full.py#L10)(api):**
### *recipes* / [properties:examples/full](/recipe_modules/properties/examples/full.py)

[DEPS](/recipe_modules/properties/examples/full.py#L7): [properties](#recipe_modules--properties), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/properties/examples/full.py#L17)(api, test_prop, param_name_test):**
### *recipes* / [python:examples/full](/recipe_modules/python/examples/full.py)

[DEPS](/recipe_modules/python/examples/full.py#L7): [step](#recipe_modules--step), [path](#recipe_modules--path), [python](#recipe_modules--python), [raw_io](#recipe_modules--raw_io)

Launches the repo bundler.

&mdash; **def [RunSteps](/recipe_modules/python/examples/full.py#L15)(api):**
### *recipes* / [raw\_io:examples/full](/recipe_modules/raw_io/examples/full.py)

[DEPS](/recipe_modules/raw_io/examples/full.py#L5): [path](#recipe_modules--path), [properties](#recipe_modules--properties), [python](#recipe_modules--python), [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/raw_io/examples/full.py#L14)(api):**
### *recipes* / [shutil:examples/full](/recipe_modules/shutil/examples/full.py)

[DEPS](/recipe_modules/shutil/examples/full.py#L8): [path](#recipe_modules--path), [shutil](#recipe_modules--shutil), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/shutil/examples/full.py#L25)(api):**
### *recipes* / [step:examples/full](/recipe_modules/step/examples/full.py)

[DEPS](/recipe_modules/step/examples/full.py#L7): [properties](#recipe_modules--properties), [path](#recipe_modules--path), [context](#recipe_modules--context), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/examples/full.py#L27)(api, bad_return, access_invalid_data, timeout):**
### *recipes* / [step:tests/active\_result](/recipe_modules/step/tests/active_result.py)

[DEPS](/recipe_modules/step/tests/active_result.py#L5): [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/active_result.py#L10)(api):**
### *recipes* / [step:tests/defer](/recipe_modules/step/tests/defer.py)

[DEPS](/recipe_modules/step/tests/defer.py#L5): [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/defer.py#L9)(api):**
### *recipes* / [step:tests/inject\_paths](/recipe_modules/step/tests/inject_paths.py)

[DEPS](/recipe_modules/step/tests/inject_paths.py#L5): [properties](#recipe_modules--properties), [step](#recipe_modules--step), [context](#recipe_modules--context), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/step/tests/inject_paths.py#L13)(api):**
### *recipes* / [step:tests/nested](/recipe_modules/step/tests/nested.py)

[DEPS](/recipe_modules/step/tests/nested.py#L6): [context](#recipe_modules--context), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/nested.py#L12)(api):**
### *recipes* / [step:tests/stdio](/recipe_modules/step/tests/stdio.py)

[DEPS](/recipe_modules/step/tests/stdio.py#L5): [raw_io](#recipe_modules--raw_io), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/stdio.py#L11)(api):**
### *recipes* / [step:tests/subannotations](/recipe_modules/step/tests/subannotations.py)

[DEPS](/recipe_modules/step/tests/subannotations.py#L5): [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/subannotations.py#L7)(api):**
### *recipes* / [step:tests/timeout](/recipe_modules/step/tests/timeout.py)

[DEPS](/recipe_modules/step/tests/timeout.py#L8): [step](#recipe_modules--step), [properties](#recipe_modules--properties)

&mdash; **def [RunSteps](/recipe_modules/step/tests/timeout.py#L19)(api, timeout):**
### *recipes* / [step:tests/trigger](/recipe_modules/step/tests/trigger.py)

[DEPS](/recipe_modules/step/tests/trigger.py#L7): [properties](#recipe_modules--properties), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/step/tests/trigger.py#L16)(api, command):**
### *recipes* / [tempfile:examples/full](/recipe_modules/tempfile/examples/full.py)

[DEPS](/recipe_modules/tempfile/examples/full.py#L5): [tempfile](#recipe_modules--tempfile)

&mdash; **def [RunSteps](/recipe_modules/tempfile/examples/full.py#L9)(api):**
### *recipes* / [time:examples/full](/recipe_modules/time/examples/full.py)

[DEPS](/recipe_modules/time/examples/full.py#L7): [step](#recipe_modules--step), [time](#recipe_modules--time)

&mdash; **def [RunSteps](/recipe_modules/time/examples/full.py#L13)(api):**
### *recipes* / [url:examples/full](/recipe_modules/url/examples/full.py)

[DEPS](/recipe_modules/url/examples/full.py#L5): [step](#recipe_modules--step), [url](#recipe_modules--url), [context](#recipe_modules--context), [path](#recipe_modules--path)

&mdash; **def [RunSteps](/recipe_modules/url/examples/full.py#L27)(api):**
### *recipes* / [url:tests/join](/recipe_modules/url/tests/join.py)

[DEPS](/recipe_modules/url/tests/join.py#L5): [step](#recipe_modules--step), [url](#recipe_modules--url)

&mdash; **def [RunSteps](/recipe_modules/url/tests/join.py#L11)(api):**
### *recipes* / [url:tests/validate\_url](/recipe_modules/url/tests/validate_url.py)

[DEPS](/recipe_modules/url/tests/validate_url.py#L5): [url](#recipe_modules--url), [properties](#recipe_modules--properties), [step](#recipe_modules--step)

&mdash; **def [RunSteps](/recipe_modules/url/tests/validate_url.py#L12)(api):**
### *recipes* / [uuid:examples/full](/recipe_modules/uuid/examples/full.py)

[DEPS](/recipe_modules/uuid/examples/full.py#L5): [step](#recipe_modules--step), [uuid](#recipe_modules--uuid)

&mdash; **def [RunSteps](/recipe_modules/uuid/examples/full.py#L11)(api):**
