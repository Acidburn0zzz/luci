[
  {
    "cmd": [
      "cipd.bat",
      "ensure",
      "-root",
      "[START_DIR]\\packages",
      "-ensure-file",
      "public/package/${platform} 7f751b2237df2fdf3c1405be00590fefffbaea2d",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "ensure_installed",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"7f751b2237df2fdf3c1405be00590fefffbaea2d\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"public/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "search",
      "public/package/${platform}",
      "-tag",
      "git_revision:40-chars-long-hash",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd search public/package/${platform} git_revision:40-chars-long-hash",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"public/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "describe",
      "public/package/${platform}",
      "-version",
      "40-chars-fake-of-the-package-instance_id",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd describe public/package/${platform}",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"public/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"refs\": [], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"tags\": []@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "ensure",
      "-root",
      "[START_DIR]\\packages",
      "-ensure-file",
      "public/package/${platform} 7f751b2237df2fdf3c1405be00590fefffbaea2d\n@Subdir private\nprivate/package/${platform} latest",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "ensure_installed (2)",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"7f751b2237df2fdf3c1405be00590fefffbaea2d\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"public/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"private\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"private/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "search",
      "private/package/${platform}",
      "-tag",
      "key:value",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd search private/package/${platform} key:value",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"private/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "describe",
      "private/package/${platform}",
      "-version",
      "40-chars-fake-of-the-package-instance_id",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd describe private/package/${platform}",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"private/package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"refs\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"ref\": \"latest\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"tags\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"tag\": \"custom:tagged\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }, @@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"tag\": \"key:value\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "acl-check",
      "public/package",
      "-reader",
      "-writer",
      "-owner",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "acl-check public/package",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": true@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "pkg-build",
      "-in",
      "fake-input-dir",
      "-name",
      "infra/fake-package",
      "-out",
      "fake-package-path",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "build fake-package",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"infra/fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "pkg-build",
      "-in",
      "fake-input-dir",
      "-name",
      "infra/fake-package",
      "-out",
      "fake-package-path",
      "-install-mode",
      "copy",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "build fake-package (2)",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"infra/fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "pkg-register",
      "fake-package-path",
      "-ref",
      "fake-ref-1",
      "-ref",
      "fake-ref-2",
      "-tag",
      "fake_tag_1:fake_value_1",
      "-tag",
      "fake_tag_2:fake_value_2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "register infra/fake-package",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"infra/fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "pkg-build",
      "-pkg-def",
      "[START_DIR]\\fake-package.yaml",
      "-out",
      "fake-package-path",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "build fake-package.yaml",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"fake-package.yaml\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "pkg-register",
      "fake-package-path",
      "-ref",
      "fake-ref-1",
      "-ref",
      "fake-ref-2",
      "-tag",
      "fake_tag_1:fake_value_1",
      "-tag",
      "fake_tag_2:fake_value_2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "register infra/fake-package (2)",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"infra/fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "create",
      "-pkg-def",
      "[START_DIR]\\fake-package.yaml",
      "-ref",
      "fake-ref-1",
      "-ref",
      "fake-ref-2",
      "-tag",
      "fake_tag_1:fake_value_1",
      "-tag",
      "fake_tag_2:fake_value_2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "create fake-package.yaml",
    "~followup_annotations": [
      "@@@STEP_TEXT@</br>pkg: fake-package.yaml</br>id: 40-chars-fake-of-the-package-instance_id@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"fake-package.yaml\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "set-tag",
      "fake-package",
      "-version",
      "long/weird/ref/which/doesn/not/fit/into/40chars",
      "-tag",
      "dead:beaf",
      "-tag",
      "more:value",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd set-tag fake-package",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"fake-package\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-long/weird/ref/w\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "set-ref",
      "fake-package",
      "-version",
      "latest",
      "-ref",
      "any",
      "-ref",
      "some",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd set-ref fake-package",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"fake-package\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"fake-package\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd.bat",
      "search",
      "fake-package/${platform}",
      "-tag",
      "dead:beaf",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd search fake-package/${platform} dead:beaf",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"fake-package/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "name": "$result",
    "recipe_result": null,
    "status_code": 0
  }
]