[
  {
    "cmd": [
      "bb",
      "batch",
      "-host",
      "cr-buildbucket.appspot.com"
    ],
    "infra_step": true,
    "name": "buildbucket.schedule",
    "stdin": "{\"requests\": [{\"scheduleBuild\": {\"builder\": {\"bucket\": \"try\", \"builder\": \"linux\", \"project\": \"chromium\"}, \"dimensions\": [{\"key\": \"os\", \"value\": \"Windows\"}], \"gerritChanges\": [{\"change\": \"123456\", \"host\": \"chromium-review.googlesource.com\", \"patchset\": \"7\", \"project\": \"chromium/src\"}], \"gitilesCommit\": {\"host\": \"chromium.googlesource.com\", \"id\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\", \"project\": \"chromium/src\"}, \"requestId\": \"8945511751514863184-00000000-0000-0000-0000-000000001337\", \"tags\": [{\"key\": \"buildset\", \"value\": \"bs\"}, {\"key\": \"cq_experimental\", \"value\": \"false\"}, {\"key\": \"user_agent\", \"value\": \"recipe\"}]}}]}",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"responses\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"bucket\": \"try\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"builder\": \"linux\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"project\": \"chromium\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514000\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LOG_LINE@request@{@@@",
      "@@@STEP_LOG_LINE@request@  \"requests\": [@@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"bucket\": \"try\", @@@",
      "@@@STEP_LOG_LINE@request@          \"builder\": \"linux\", @@@",
      "@@@STEP_LOG_LINE@request@          \"project\": \"chromium\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"dimensions\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"os\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"Windows\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ], @@@",
      "@@@STEP_LOG_LINE@request@        \"gerritChanges\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"change\": \"123456\", @@@",
      "@@@STEP_LOG_LINE@request@            \"host\": \"chromium-review.googlesource.com\", @@@",
      "@@@STEP_LOG_LINE@request@            \"patchset\": \"7\", @@@",
      "@@@STEP_LOG_LINE@request@            \"project\": \"chromium/src\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ], @@@",
      "@@@STEP_LOG_LINE@request@        \"gitilesCommit\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"host\": \"chromium.googlesource.com\", @@@",
      "@@@STEP_LOG_LINE@request@          \"id\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\", @@@",
      "@@@STEP_LOG_LINE@request@          \"project\": \"chromium/src\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"requestId\": \"8945511751514863184-00000000-0000-0000-0000-000000001337\", @@@",
      "@@@STEP_LOG_LINE@request@        \"tags\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"buildset\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"bs\"@@@",
      "@@@STEP_LOG_LINE@request@          }, @@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"cq_experimental\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"false\"@@@",
      "@@@STEP_LOG_LINE@request@          }, @@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"user_agent\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"recipe\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ]@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }@@@",
      "@@@STEP_LOG_LINE@request@  ]@@@",
      "@@@STEP_LOG_LINE@request@}@@@",
      "@@@STEP_LOG_END@request@@@",
      "@@@STEP_LINK@8922054662172514000@https://cr-buildbucket.appspot.com/build/8922054662172514000@@@"
    ]
  },
  {
    "cmd": [],
    "name": "buildbucket.run"
  },
  {
    "cmd": [
      "bb",
      "batch",
      "-host",
      "cr-buildbucket.appspot.com"
    ],
    "infra_step": true,
    "name": "buildbucket.run.schedule",
    "stdin": "{\"requests\": [{\"scheduleBuild\": {\"builder\": {\"bucket\": \"try\", \"builder\": \"linux\", \"project\": \"chromium\"}, \"dimensions\": [{\"key\": \"os\", \"value\": \"Windows\"}], \"gerritChanges\": [{\"change\": \"123456\", \"host\": \"chromium-review.googlesource.com\", \"patchset\": \"7\", \"project\": \"chromium/src\"}], \"gitilesCommit\": {\"host\": \"chromium.googlesource.com\", \"id\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\", \"project\": \"chromium/src\"}, \"requestId\": \"8945511751514863184-00000000-0000-0000-0000-000000001337\", \"tags\": [{\"key\": \"buildset\", \"value\": \"bs\"}, {\"key\": \"cq_experimental\", \"value\": \"false\"}, {\"key\": \"user_agent\", \"value\": \"recipe\"}]}}]}",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"responses\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"bucket\": \"try\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"builder\": \"linux\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"project\": \"chromium\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514001\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LOG_LINE@request@{@@@",
      "@@@STEP_LOG_LINE@request@  \"requests\": [@@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"bucket\": \"try\", @@@",
      "@@@STEP_LOG_LINE@request@          \"builder\": \"linux\", @@@",
      "@@@STEP_LOG_LINE@request@          \"project\": \"chromium\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"dimensions\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"os\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"Windows\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ], @@@",
      "@@@STEP_LOG_LINE@request@        \"gerritChanges\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"change\": \"123456\", @@@",
      "@@@STEP_LOG_LINE@request@            \"host\": \"chromium-review.googlesource.com\", @@@",
      "@@@STEP_LOG_LINE@request@            \"patchset\": \"7\", @@@",
      "@@@STEP_LOG_LINE@request@            \"project\": \"chromium/src\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ], @@@",
      "@@@STEP_LOG_LINE@request@        \"gitilesCommit\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"host\": \"chromium.googlesource.com\", @@@",
      "@@@STEP_LOG_LINE@request@          \"id\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\", @@@",
      "@@@STEP_LOG_LINE@request@          \"project\": \"chromium/src\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"requestId\": \"8945511751514863184-00000000-0000-0000-0000-000000001337\", @@@",
      "@@@STEP_LOG_LINE@request@        \"tags\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"buildset\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"bs\"@@@",
      "@@@STEP_LOG_LINE@request@          }, @@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"cq_experimental\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"false\"@@@",
      "@@@STEP_LOG_LINE@request@          }, @@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"user_agent\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"recipe\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ]@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }@@@",
      "@@@STEP_LOG_LINE@request@  ]@@@",
      "@@@STEP_LOG_LINE@request@}@@@",
      "@@@STEP_LOG_END@request@@@",
      "@@@STEP_LINK@8922054662172514001@https://cr-buildbucket.appspot.com/build/8922054662172514001@@@"
    ]
  },
  {
    "cmd": [
      "buildbucket",
      "collect",
      "-host",
      "cr-buildbucket.appspot.com",
      "-json-output",
      "/path/to/tmp/json",
      "-interval",
      "60s",
      "8922054662172514001"
    ],
    "infra_step": true,
    "name": "buildbucket.run.collect",
    "timeout": 3600,
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@[@@@",
      "@@@STEP_LOG_LINE@json.output@  {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"id\": \"8922054662172514001\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"status\": \"SUCCESS\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@]@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "run nothing"
  },
  {
    "name": "$result"
  }
]